<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q4ZZ5SFJC0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-Q4ZZ5SFJC0');
</script>
<!-- Fallback noscript version for privacy-aware users -->
<noscript>
  <iframe src="https://www.googletagmanager.com/ns.html?id=G-Q4ZZ5SFJC0"
          height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWGDB - Bounty Hunter Leaderboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --gold-color: #ffd700;
            --silver-color: #c0c0c0;
            --bronze-color: #cd7f32;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .main-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin: 20px auto;
            max-width: 1400px;
            overflow: hidden;
        }

        .header-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header-section h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .header-section p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .content-section {
            padding: 30px;
        }

        .season-info {
            background: var(--light-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .season-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .season-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--dark-color);
        }

        .season-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .status-active {
            background: var(--success-color);
            color: white;
        }

        .status-archived {
            background: var(--secondary-color);
            color: white;
        }

        .season-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--secondary-color);
            font-size: 0.9rem;
        }

        .leaderboard-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .table-header {
            background: var(--dark-color);
            color: white;
            padding: 15px 20px;
            font-weight: 600;
        }

        .table-row {
            display: grid;
            grid-template-columns: 80px 1fr 100px 150px 120px 200px;
            padding: 15px 20px;
            border-bottom: 1px solid #e9ecef;
            align-items: center;
        }

        .table-row:hover {
            background: var(--light-color);
        }

        .table-row:last-child {
            border-bottom: none;
        }

        .rank-badge {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .rank-1 { background: var(--gold-color); color: #333; }
        .rank-2 { background: var(--silver-color); color: #333; }
        .rank-3 { background: var(--bronze-color); color: white; }
        .rank-other { background: var(--secondary-color); color: white; }

        .hunter-info {
            display: flex;
            flex-direction: column;
        }

        .hunter-name {
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 5px;
        }

        .hunter-guild {
            font-size: 0.85rem;
            color: var(--secondary-color);
        }

        .kills-count {
            font-weight: 600;
            color: var(--danger-color);
            font-size: 1.2rem;
        }

        .bounty-amount {
            font-weight: 600;
            color: var(--success-color);
        }

        .specializations {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .spec-badge {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            background: var(--info-color);
            color: white;
        }

        .archive-section {
            margin-top: 30px;
        }

        .archive-toggle {
            background: var(--light-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .archive-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .archive-btn {
            padding: 8px 16px;
            border: 2px solid var(--primary-color);
            background: white;
            color: var(--primary-color);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .archive-btn:hover, .archive-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .winner-section {
            background: linear-gradient(135deg, var(--gold-color) 0%, #ffed4e 100%);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .winner-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .winner-info {
            font-size: 1.1rem;
            color: #333;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: var(--secondary-color);
        }

        .no-data i {
            font-size: 3rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        @media (max-width: 768px) {
            .table-row {
                grid-template-columns: 60px 1fr 80px;
                gap: 10px;
            }
            
            .bounty-amount, .specializations {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header-section">
            <h1><i class="fas fa-crosshairs"></i> Bounty Hunter Leaderboard</h1>
            <p>Track the galaxy's most feared Jedi hunters</p>
        </div>

        <div class="content-section">
            <div class="season-info">
                <div class="season-header">
                    <div class="season-title">
                        <span id="seasonTitle">Season 9</span>
                        <span id="seasonDates">(August 2025)</span>
                    </div>
                    <span class="season-status status-active" id="seasonStatus">Active</span>
                </div>

                <div class="season-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalKills">26</div>
                        <div class="stat-label">Total Kills</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalBounty">78,000</div>
                        <div class="stat-label">Total Bounty</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="activeHunters">5</div>
                        <div class="stat-label">Active Hunters</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="avgKills">5.2</div>
                        <div class="stat-label">Avg Kills</div>
                    </div>
                </div>
            </div>

            <div class="leaderboard-table">
                <div class="table-header">
                    <div class="table-row">
                        <div>Rank</div>
                        <div>Hunter</div>
                        <div>Kills</div>
                        <div>Bounty</div>
                        <div>Guild</div>
                        <div>Specializations</div>
                    </div>
                </div>
                <div id="leaderboardBody">
                    <!-- Leaderboard entries will be populated by JavaScript -->
                </div>
            </div>

            <div class="archive-section">
                <div class="archive-toggle">
                    <h3><i class="fas fa-archive"></i> Previous Seasons</h3>
                    <div class="archive-buttons" id="archiveButtons">
                        <!-- Archive buttons will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data - in production this would come from the backend
        const currentSeason = {
            season: 9,
            start_date: "2025-08-01",
            end_date: "2025-08-31",
            status: "active",
            entries: [
                {
                    name: "D'rev",
                    kills: 8,
                    guild: "JusticeCorp",
                    rank: 1,
                    total_bounty: 24000,
                    specializations: ["jedi_hunter", "force_sensitive"]
                },
                {
                    name: "Tyla",
                    kills: 6,
                    guild: "Outlaws",
                    rank: 2,
                    total_bounty: 18000,
                    specializations: ["jedi_hunter", "marksman"]
                },
                {
                    name: "Vexx",
                    kills: 5,
                    guild: "ShadowStalkers",
                    rank: 3,
                    total_bounty: 15000,
                    specializations: ["jedi_hunter", "tracker"]
                },
                {
                    name: "K'Rin",
                    kills: 4,
                    guild: "CrimsonFang",
                    rank: 4,
                    total_bounty: 12000,
                    specializations: ["jedi_hunter", "melee"]
                },
                {
                    name: "Zara",
                    kills: 3,
                    guild: "VoidHunters",
                    rank: 5,
                    total_bounty: 9000,
                    specializations: ["jedi_hunter", "sniper"]
                }
            ],
            season_stats: {
                total_kills: 26,
                total_bounty: 78000,
                active_hunters: 5,
                average_kills: 5.2,
                top_guild: "JusticeCorp",
                most_active_day: "2025-01-03"
            }
        };

        const archivedSeasons = [
            {
                season: 8,
                start_date: "2024-07-01",
                end_date: "2024-07-31",
                status: "archived",
                winner: {
                    name: "Shadow",
                    guild: "NightStalkers",
                    kills: 12,
                    total_bounty: 36000
                }
            },
            {
                season: 7,
                start_date: "2024-06-01",
                end_date: "2024-06-30",
                status: "archived",
                winner: {
                    name: "D'rev",
                    guild: "JusticeCorp",
                    kills: 15,
                    total_bounty: 45000
                }
            }
        ];

        function formatBounty(amount) {
            return amount.toLocaleString();
        }

        function getRankClass(rank) {
            if (rank === 1) return 'rank-1';
            if (rank === 2) return 'rank-2';
            if (rank === 3) return 'rank-3';
            return 'rank-other';
        }

        function renderLeaderboard(entries) {
            const tbody = document.getElementById('leaderboardBody');
            tbody.innerHTML = '';

            if (!entries || entries.length === 0) {
                tbody.innerHTML = `
                    <div class="no-data">
                        <i class="fas fa-crosshairs"></i>
                        <h3>No hunters yet</h3>
                        <p>Be the first to claim a bounty!</p>
                    </div>
                `;
                return;
            }

            entries.forEach(entry => {
                const row = document.createElement('div');
                row.className = 'table-row';
                
                row.innerHTML = `
                    <div>
                        <div class="rank-badge ${getRankClass(entry.rank)}">
                            ${entry.rank}
                        </div>
                    </div>
                    <div class="hunter-info">
                        <div class="hunter-name">${entry.name}</div>
                        <div class="hunter-guild">${entry.guild}</div>
                    </div>
                    <div class="kills-count">${entry.kills}</div>
                    <div class="bounty-amount">${formatBounty(entry.total_bounty)}</div>
                    <div class="hunter-guild">${entry.guild}</div>
                    <div class="specializations">
                        ${entry.specializations.map(spec => 
                            `<span class="spec-badge">${spec.replace('_', ' ')}</span>`
                        ).join('')}
                    </div>
                `;
                
                tbody.appendChild(row);
            });
        }

        function renderArchiveButtons() {
            const container = document.getElementById('archiveButtons');
            container.innerHTML = '';

            archivedSeasons.forEach(season => {
                const btn = document.createElement('button');
                btn.className = 'archive-btn';
                btn.textContent = `Season ${season.season}`;
                btn.onclick = () => showArchivedSeason(season);
                container.appendChild(btn);
            });
        }

        function showArchivedSeason(season) {
            // Update UI to show archived season
            document.getElementById('seasonTitle').textContent = `Season ${season.season}`;
            document.getElementById('seasonDates').textContent = 
                `(${new Date(season.start_date).toLocaleDateString()} - ${new Date(season.end_date).toLocaleDateString()})`;
            document.getElementById('seasonStatus').textContent = 'Archived';
            document.getElementById('seasonStatus').className = 'season-status status-archived';

            // Show winner if available
            if (season.winner) {
                const winnerSection = document.createElement('div');
                winnerSection.className = 'winner-section';
                winnerSection.innerHTML = `
                    <div class="winner-title">🏆 Season Winner</div>
                    <div class="winner-info">
                        ${season.winner.name} (${season.winner.guild}) - ${season.winner.kills} kills
                    </div>
                `;
                
                // Insert after season-info
                const seasonInfo = document.querySelector('.season-info');
                const existingWinner = document.querySelector('.winner-section');
                if (existingWinner) {
                    existingWinner.remove();
                }
                seasonInfo.parentNode.insertBefore(winnerSection, seasonInfo.nextSibling);
            }

            // Clear leaderboard for archived season
            document.getElementById('leaderboardBody').innerHTML = `
                <div class="no-data">
                    <i class="fas fa-archive"></i>
                    <h3>Archived Season</h3>
                    <p>This season has ended. Winner: ${season.winner ? season.winner.name : 'Unknown'}</p>
                </div>
            `;
        }

        function showCurrentSeason() {
            // Reset to current season
            document.getElementById('seasonTitle').textContent = `Season ${currentSeason.season}`;
            document.getElementById('seasonDates').textContent = 
                `(${new Date(currentSeason.start_date).toLocaleDateString()} - ${new Date(currentSeason.end_date).toLocaleDateString()})`;
            document.getElementById('seasonStatus').textContent = 'Active';
            document.getElementById('seasonStatus').className = 'season-status status-active';

            // Update stats
            document.getElementById('totalKills').textContent = currentSeason.season_stats.total_kills;
            document.getElementById('totalBounty').textContent = formatBounty(currentSeason.season_stats.total_bounty);
            document.getElementById('activeHunters').textContent = currentSeason.season_stats.active_hunters;
            document.getElementById('avgKills').textContent = currentSeason.season_stats.average_kills;

            // Remove winner section if exists
            const existingWinner = document.querySelector('.winner-section');
            if (existingWinner) {
                existingWinner.remove();
            }

            // Show current leaderboard
            renderLeaderboard(currentSeason.entries);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderLeaderboard(currentSeason.entries);
            renderArchiveButtons();
            
            // Add click handler for current season
            const currentSeasonBtn = document.createElement('button');
            currentSeasonBtn.className = 'archive-btn active';
            currentSeasonBtn.textContent = 'Current Season';
            currentSeasonBtn.onclick = showCurrentSeason;
            
            const archiveContainer = document.getElementById('archiveButtons');
            archiveContainer.insertBefore(currentSeasonBtn, archiveContainer.firstChild);
        });
    </script>
</body>
</html> 